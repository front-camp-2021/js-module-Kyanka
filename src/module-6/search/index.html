<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Movies App | Search</title>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="./style.css">
</head>

<body>
<div id="root"></div>

<script type="module">
  import Search from './index.js';

  const search = new Search();

  root.append(search.element);

  const BACKEND_URL = 'http://localhost:3000';
  const url = new URL('products', BACKEND_URL);

  search.element.addEventListener('search-filter', async event => {
    url.searchParams.set('q', event.detail);

    const response = await fetch(url);
    const data = await response.json();

    console.error('data', data);
  });
</script>
</body>

</html>
